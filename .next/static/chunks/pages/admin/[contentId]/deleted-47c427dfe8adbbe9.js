(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[395],{985:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/[contentId]/deleted",function(){return n(87410)}])},82528:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Layout}});var a=n(85893);n(67294);var s=n(44086);function Layout(e){let{children:t}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"container mx-auto md:w-[1170px] p-2 md:p-6 ",children:(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-8",children:[(0,a.jsx)("div",{className:"col-span-4",children:(0,a.jsx)(s.default,{})}),(0,a.jsx)("div",{className:"col-span-8",children:t})]})})})}},44086:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return MenuSidebar}});var a=n(85893),s=n(67294),i=n(11163),l=n(44650),c=n(84053),d=n(42963),r=n(3125),o=n(36991),h=n(53694),x=n(18266),u=n(25038),p=n(87950),j=n(66081),m=n(47041),f=n(54887);function MenuSidebar(){let e=(0,i.useRouter)(),t=(0,c.useSession)(),[n,g]=(0,s.useState)(""),[b,v]=(0,s.useState)(""),handleLogout=()=>{(0,m.deleteCookie)("sb-vyjeeoqetducftdoemqr-auth-token"),l.O.auth.signOut()};return(0,s.useEffect)(()=>{if(t){let e={id:t.user.id},n="/api/admin/user/profileDetail?".concat(f.Z.stringify(e));fetch(n).then(e=>e.json()).then(e=>{g(e.full_name),v(e.email)})}},[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(d.d,{selectionMode:"multiple",variant:"bordered",defaultExpandedKeys:["1","2","3"],showDivider:!1,isCompact:!0,children:[(0,a.jsx)(r.G,{"aria-label":n,startContent:(0,a.jsx)(o.h,{isBordered:!0,color:"primary",radius:"lg",src:"https://i.pravatar.cc/150?u=a042581f4e29026024d"}),subtitle:b,title:n,children:(0,a.jsxs)(h.X,{"aria-label":"Actions",children:[(0,a.jsx)(x.R,{endContent:(0,a.jsx)(u.Z,{size:13}),startContent:(0,a.jsx)(p.Z,{size:20}),onClick:()=>e.push("/admin/project",void 0,{shallow:!0}),showDivider:!0,children:(0,a.jsx)("span",{className:"text-base",children:"Thiết lập t\xe0i khoản"})},"new"),(0,a.jsx)(x.R,{endContent:(0,a.jsx)(u.Z,{size:13}),startContent:(0,a.jsx)(j.Z,{size:20}),onClick:()=>handleLogout(),showDivider:!0,children:(0,a.jsx)("span",{className:"text-base",children:"Đăng xuất"})},"new")]})},"1"),(0,a.jsx)(r.G,{"aria-label":"Quản l\xfd",title:(0,a.jsx)("span",{className:"font-bold text-base uppercase",children:"Quản l\xfd"}),children:(0,a.jsxs)(h.X,{"aria-label":"Actions",children:[(0,a.jsx)(x.R,{endContent:(0,a.jsx)(u.Z,{size:13}),startContent:(0,a.jsx)(p.Z,{size:20}),onClick:()=>e.push("/admin/project",void 0,{shallow:!0}),showDivider:!0,children:(0,a.jsx)("span",{className:"text-base",children:"Dự \xe1n"})},"du-an"),(0,a.jsx)(x.R,{endContent:(0,a.jsx)(u.Z,{size:13}),startContent:(0,a.jsx)(j.Z,{size:20}),onClick:()=>e.push("/admin/news",void 0,{shallow:!0}),children:(0,a.jsx)("span",{className:"text-base",children:"Tin tức"})},"tin-tuc")]})},"2")]})})}},87410:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Home}});var a=n(85893);n(67294);var s=n(84053),i=n(11163),l=n(21056),c=n(20839),d=n(886),r=n(29016),o=n(82528);function Home(){let e=(0,i.useRouter)(),t=(0,s.useSession)();return(0,a.jsx)(a.Fragment,{children:t?(0,a.jsxs)(o.default,{children:[(0,a.jsx)(c.default,{}),"project"==e.query.contentId?(0,a.jsx)(d.default,{}):"","news"==e.query.contentId?(0,a.jsx)(r.default,{}):""]}):(0,a.jsx)(l.default,{})})}},20839:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return HeaderAdmin}});var a=n(85893),s=n(67294),i=n(11163),l=n(36864);function HeaderAdmin(){let e=(0,i.useRouter)();new URLSearchParams(window.location.search);let[t,n]=(0,s.useState)("");return(0,s.useEffect)(()=>{"project"==e.query.contentId&&n("Dự \xe1n"),"/admin/project/edit/0"==e.asPath&&n("Th\xeam dự \xe1n"),"project"==e.query.contentId&&e.query.postId&&n("Chỉnh sửa dự \xe1n"),"news"==e.query.contentId&&n("Tin tức"),"/admin/news/edit/0"==e.asPath&&n("Th\xeam tin tức"),"news"==e.query.contentId&&e.query.postId&&n("Chỉnh sửa tin tức")},[e.query]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-8 mb-[20px] ",children:[(0,a.jsx)("div",{className:"col-span-6",children:(0,a.jsx)("p",{className:"font-bold text-2xl",children:t})}),(0,a.jsx)("div",{className:"col-span-6",children:e.query.postId?(0,a.jsxs)("div",{className:"flex gap-4 justify-end",children:[(0,a.jsx)(l.A,{color:"success",type:"submit",children:"Cập nhật"}),(0,a.jsx)(l.A,{color:"danger",onClick:()=>e.push("/admin/".concat(e.query.contentId),void 0,{shallow:!0}),children:"Quay lại"})]}):(0,a.jsxs)("div",{className:"flex gap-4 justify-end",children:[(0,a.jsx)(l.A,{color:"success",onClick:()=>e.push("/admin/".concat(e.query.contentId,"/edit/0"),void 0,{shallow:!0}),children:"Th\xeam"}),(0,a.jsx)(l.A,{color:"danger",onClick:()=>e.push("/admin/".concat(e.query.contentId,"/deleted"),void 0,{shallow:!0}),children:"X\xf3a"})]})})]})})}},29016:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return NewstList}});var a=n(85893),s=n(67294),i=n(11163),l=n(54887),c=n(19982),d=n(28486),r=n(51860),o=n(60646),h=n(56597),x=n(18754),u=n(25632),p=n(73906),j=n(26789),m=n(41652),f=n(50121),g=n(44650),b=n(15379),v=n(55678);n(27967);var _=n(94803),y=n.n(_),N=n(754),w=n(70314);function NewstList(){let e=(0,i.useRouter)(),t="press",[n,_]=(0,s.useState)(!0),[k,C]=(0,s.useState)(!1),[S,q]=(0,s.useState)([]),[E,Z]=(0,s.useState)("0");(0,s.useEffect)(()=>{let t={deleted:"/admin/[contentId]/deleted"==e.pathname?"1":"0"},n="".concat("/api/admin/press_admin/press_total_list","?").concat(l.Z.stringify(t));fetch(n).then(e=>e.json()).then(e=>{Z(e.length)})},[]),(0,s.useEffect)(()=>{_(!0);let t={deleted:"/admin/news/deleted"==e.asPath?"1":"0",page:null!=e.query.pa?e.query.pa:"1",limit:"10"},n="".concat("/api/admin/press_admin/presslist","?").concat(l.Z.stringify(t));fetch(n).then(e=>e.json()).then(e=>{console.log(e),q(e),_(!1)})},[e.asPath,k]);let handleSwitch=async e=>{let n={id:e.id,active:"1"==e.active?"0":"1"},{data:a,error:s}=await g.O.from(t).update(n).eq("id",String(n.id));s?(console.log("Error:",s.message),(0,b._N)("Sửa tin thất bại")):(console.log(a),(0,b.x9)("Sửa tin th\xe0nh c\xf4ng"))},handleDeleted=async e=>{let n={id:e.id,deleted:"1"},{data:a,error:s}=await g.O.from(t).update(n).eq("id",String(n.id));s?(console.log("Error:",s.message),(0,b._N)("X\xf3a tin thất bại")):(console.log(a),C(!k),(0,b.x9)("X\xf3a tin th\xe0nh c\xf4ng"))},handleRestore=async e=>{let n={id:e.id,deleted:"0"},{data:a,error:s}=await g.O.from(t).update(n).eq("id",String(n.id));s?(console.log("Error:",s.message),(0,b._N)("Kh\xf4i phục tin thất bại")):(console.log(a),C(!k),(0,b.x9)("Kh\xf4i phục tin th\xe0nh c\xf4ng"))};return n?(0,a.jsx)(w.Z,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(h.b,{"aria-label":"Example static collection table",children:[(0,a.jsxs)(x.J,{children:[(0,a.jsx)(u.j,{children:"NAME"}),(0,a.jsx)(u.j,{children:"Ng\xe0y đăng"}),(0,a.jsx)(u.j,{children:"Ẩn/Hiện"}),(0,a.jsx)(u.j,{children:"ACTION"})]}),(0,a.jsx)(p.y,{children:S.map((t,n)=>(0,a.jsxs)(j.g,{className:"",children:[(0,a.jsx)(m.X,{children:(0,a.jsx)("span",{className:"line-clamp-1",children:t.title})}),(0,a.jsx)(m.X,{children:(0,a.jsx)(y(),{format:"DD/MM/YYYY",children:t.date_added})}),(0,a.jsx)(m.X,{children:(0,a.jsx)(f.i,{defaultSelected:"1"==t.active,size:"sm",onChange:e=>handleSwitch(t)})}),(0,a.jsx)(m.X,{children:(0,a.jsxs)("div",{className:"relative flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-lg text-default-400 cursor-pointer active:opacity-50",onClick:()=>window.open("/tin-tuc/".concat(t.keywords,"/").concat(t.id),"_blank"),children:(0,a.jsx)(c.Z,{size:23})}),(0,a.jsx)("span",{className:"text-lg text-default-400 cursor-pointer active:opacity-50",onClick:()=>e.push("/admin/news/edit/".concat(t.id),void 0,{shallow:!0}),children:(0,a.jsx)(d.Z,{size:23})}),"/admin/[contentId]/deleted"==e.pathname?(0,a.jsx)("span",{className:"text-lg text-danger cursor-pointer active:opacity-50",onClick:e=>handleRestore(t),children:(0,a.jsx)(r.Z,{size:23})}):(0,a.jsx)("span",{className:"text-lg text-danger cursor-pointer active:opacity-50",onClick:e=>handleDeleted(t),children:(0,a.jsx)(o.Z,{size:23})})]})})]},n))})]}),(0,a.jsx)(N.default,{totalData:E}),(0,a.jsx)(v.Ix,{})]})}},886:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ProjectList}});var a=n(85893),s=n(67294),i=n(11163),l=n(54887),c=n(19982),d=n(28486),r=n(51860),o=n(60646),h=n(56597),x=n(18754),u=n(25632),p=n(73906),j=n(26789),m=n(41652),f=n(50121),g=n(44650),b=n(15379),v=n(55678);n(27967);var _=n(94803),y=n.n(_),N=n(754),w=n(70314);function ProjectList(){let e=(0,i.useRouter)(),t="projects",[n,_]=(0,s.useState)(!0),[k,C]=(0,s.useState)(!1),[S,q]=(0,s.useState)([]),[E,Z]=(0,s.useState)("0");(0,s.useEffect)(()=>{let t={deleted:"/admin/[contentId]/deleted"==e.pathname?"1":"0"},n="".concat("/api/admin/project_admin/project_total_list","?").concat(l.Z.stringify(t));fetch(n).then(e=>e.json()).then(e=>{Z(e.length),console.log(e.length)})},[]),(0,s.useEffect)(()=>{_(!0);let t={deleted:"/admin/project/deleted"==e.asPath?"1":"0",page:null!=e.query.pa?e.query.pa:"1",limit:"10"},n="".concat("/api/admin/project_admin/projectlist","?").concat(l.Z.stringify(t));fetch(n).then(e=>e.json()).then(e=>{q(e),console.log("project"),_(!1)})},[e.asPath,k]);let handleSwitch=async e=>{let n={id:e.id,active:"1"==e.active?"0":"1"},{data:a,error:s}=await g.O.from(t).update(n).eq("id",String(n.id));s?(console.log("Error:",s.message),(0,b._N)("Sửa tin thất bại")):(console.log(a),(0,b.x9)("Sửa tin th\xe0nh c\xf4ng"))},handleDeleted=e=>{let n={id:e.id,deleted:"1"};fetch("/api/admin/updateDataDelete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filterParams:{tableBase:t,obj:n}})}).then(e=>e.json()).then(e=>{e?(C(!k),(0,b.x9)("X\xf3a tin th\xe0nh c\xf4ng")):(0,b._N)("X\xf3a tin thất bại")})},handleRestore=async e=>{let n={id:e.id,deleted:"0"};fetch("/api/admin/updateDataDelete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filterParams:{tableBase:t,obj:n}})}).then(e=>e.json()).then(e=>{e?(C(!k),(0,b.x9)("Kh\xf4i phục tin th\xe0nh c\xf4ng")):(0,b._N)("Kh\xf4i phục tin thất bại")})};return n?(0,a.jsx)(w.Z,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(h.b,{"aria-label":"Example static collection table",children:[(0,a.jsxs)(x.J,{children:[(0,a.jsx)(u.j,{children:"NAME"}),(0,a.jsx)(u.j,{children:"Ng\xe0y đăng"}),(0,a.jsx)(u.j,{children:"Ẩn/Hiện"}),(0,a.jsx)(u.j,{children:"ACTION"})]}),(0,a.jsx)(p.y,{children:S.map((t,n)=>(0,a.jsxs)(j.g,{className:"",children:[(0,a.jsx)(m.X,{children:(0,a.jsx)("span",{className:"line-clamp-1",children:t.name_vn})}),(0,a.jsx)(m.X,{children:(0,a.jsx)(y(),{format:"DD/MM/YYYY",children:t.date_added})}),(0,a.jsx)(m.X,{children:(0,a.jsx)(f.i,{defaultSelected:"1"==t.active,size:"sm",onChange:e=>handleSwitch(t)})}),(0,a.jsx)(m.X,{children:(0,a.jsxs)("div",{className:"relative flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-lg text-default-400 cursor-pointer active:opacity-50",onClick:()=>window.open("/du-an/".concat(t.keyword,"/").concat(t.id),"_blank"),children:(0,a.jsx)(c.Z,{size:23})}),(0,a.jsx)("span",{className:"text-lg text-default-400 cursor-pointer active:opacity-50",onClick:()=>e.push("/admin/project/edit/".concat(t.id),void 0,{shallow:!0}),children:(0,a.jsx)(d.Z,{size:23})}),"/admin/[contentId]/deleted"==e.pathname?(0,a.jsx)("span",{className:"text-lg text-danger cursor-pointer active:opacity-50",onClick:e=>handleRestore(t),children:(0,a.jsx)(r.Z,{size:23})}):(0,a.jsx)("span",{className:"text-lg text-danger cursor-pointer active:opacity-50",onClick:e=>handleDeleted(t),children:(0,a.jsx)(o.Z,{size:23})})]})})]},n))})]}),(0,a.jsx)(N.default,{totalData:E}),(0,a.jsx)(v.Ix,{})]})}},21056:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Login}});var a=n(85893);n(67294);var s=n(49258),i=n(48139),l=n(84053);function Login(){let e=(0,l.useSupabaseClient)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"container mx-auto md:w-[1170px] p-2 md:p-6 justify-center ",children:(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-8",children:[(0,a.jsx)("div",{className:"col-span-12",children:(0,a.jsx)("p",{className:"text-3xl font-bold text-center",children:"Đăng nhập"})}),(0,a.jsx)("div",{className:"col-span-12 flex justify-center",children:(0,a.jsx)("div",{className:"w-[300px]",children:(0,a.jsx)(s.gx,{supabaseClient:e,providers:[],appearance:{theme:i.rD},theme:"light",localization:{variables:{sign_in:{email_label:"Email",password_label:"Mật khẩu",email_input_placeholder:"Địa chỉ email của bạn",password_input_placeholder:"Mật khẩu của bạn",button_label:"Đăng nhập",loading_button_label:"Đăng nhập..."},sign_up:{email_label:"Email",password_label:"Mật khẩu",email_input_placeholder:"Địa chỉ email của bạn",password_input_placeholder:"Mật khẩu của bạn",link_text:"Bạn chưa c\xf3 t\xe0i khoản? Đăng k\xfd",button_label:"Đăng k\xfd",loading_button_label:"Đăng k\xfd..."},magic_link:{link_text:"Đ\xe3 c\xf3 t\xe0i khoản? Đăng nhập"},forgotten_password:{email_label:"Email",password_label:"Mật khẩu",email_input_placeholder:"Địa chỉ email của bạn",button_label:"Đặt lại mật khẩu"}}}})})})]})})})}}},function(e){e.O(0,[885,146,971,864,459,961,758,258,469,982,536,774,888,179],function(){return e(e.s=985)}),_N_E=e.O()}]);