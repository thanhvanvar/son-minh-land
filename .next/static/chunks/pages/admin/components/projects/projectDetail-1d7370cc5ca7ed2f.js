(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[679],{29622:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/components/projects/projectDetail",function(){return n(49005)}])},15379:function(e,t,n){"use strict";n.d(t,{N3:function(){return convertKeyword},_N:function(){return toastError},kt:function(){return insertData},wp:function(){return updatetData},x9:function(){return toastSuccess}}),n(85893),n(67294),n(41664),n(47041);var l=n(55678),a=n(44650),r=n(94909),o=n.n(r);function convertKeyword(e){let t=o()(e),n=t.toLowerCase(),l=n.replace(/^[^a-z0-9]+|[^a-z0-9]+$/gi,""),a=l.replace(/[^a-z0-9]/g," "),r=a.replace(/\s+/g,"-");return r}function toastError(e){return l.Am.error(e,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}function toastSuccess(e){let t=l.Am.success(e,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"});return t}async function updatetData(e,t){fetch("/api/admin/updateData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filterParams:{tableBase:e,obj:t}})})}async function insertData(e,t){let{data:n,error:l}=await a.O.from(e).insert(t);l?console.log("Error:",l.message):(console.log(n),toastSuccess("Đăng tin th\xe0nh c\xf4ng"))}},44650:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});var l=n(2515);let a=(0,l.eI)("https://vyjeeoqetducftdoemqr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ5amVlb3FldGR1Y2Z0ZG9lbXFyIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTgwMzMzOTQsImV4cCI6MjAxMzYwOTM5NH0.Z4MENpl9Rrx8cMXJNcnoEagji1jAVelQhQXJPJ4EhUc")},20839:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return HeaderAdmin}});var l=n(85893),a=n(67294),r=n(11163),o=n(36864);function HeaderAdmin(){let e=(0,r.useRouter)();new URLSearchParams(window.location.search);let[t,n]=(0,a.useState)("");return(0,a.useEffect)(()=>{"project"==e.query.contentId&&n("Dự \xe1n"),"/admin/project/edit/0"==e.asPath&&n("Th\xeam dự \xe1n"),"project"==e.query.contentId&&e.query.postId&&n("Chỉnh sửa dự \xe1n"),"news"==e.query.contentId&&n("Tin tức"),"/admin/news/edit/0"==e.asPath&&n("Th\xeam tin tức"),"news"==e.query.contentId&&e.query.postId&&n("Chỉnh sửa tin tức")},[e.query]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"grid grid-cols-12 gap-8 mb-[20px] ",children:[(0,l.jsx)("div",{className:"col-span-6",children:(0,l.jsx)("p",{className:"font-bold text-2xl",children:t})}),(0,l.jsx)("div",{className:"col-span-6",children:e.query.postId?(0,l.jsxs)("div",{className:"flex gap-4 justify-end",children:[(0,l.jsx)(o.A,{color:"success",type:"submit",children:"Cập nhật"}),(0,l.jsx)(o.A,{color:"danger",onClick:()=>e.push("/admin/".concat(e.query.contentId),void 0,{shallow:!0}),children:"Quay lại"})]}):(0,l.jsxs)("div",{className:"flex gap-4 justify-end",children:[(0,l.jsx)(o.A,{color:"success",onClick:()=>e.push("/admin/".concat(e.query.contentId,"/edit/0"),void 0,{shallow:!0}),children:"Th\xeam"}),(0,l.jsx)(o.A,{color:"danger",onClick:()=>e.push("/admin/".concat(e.query.contentId,"/deleted"),void 0,{shallow:!0}),children:"X\xf3a"})]})})]})})}},76308:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return EditorTiny}});var l=n(85893);n(67294);var a=n(44650),r=n(6235);let{v4:o}=n(67429);function EditorTiny(e){let uploadToSupabase=async e=>{console.log(e);try{let{data:t,error:n}=await a.O.storage.from("project_image").upload(o(),e);if(t)return console.log(t),"https://vyjeeoqetducftdoemqr.supabase.co/storage/v1/object/public/project_image/".concat(t.path);return console.error(n),null}catch(e){return console.error("Error uploading to Supabase:",e),null}};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(r.M,{apiKey:"4u5329rm4xy88u4blzdf6fe3ue23yp4cwf76k6i5otutm4zb",value:e.value,onEditorChange:e.onEditorChange,init:{height:600,menubar:" insert format tools table help",plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo| link code image | formatselect | bold italic backcolor |                                       alignleft aligncenter alignright alignjustify |                                       bullist numlist outdent indent | removeformat | help",image_title:!0,automatic_uploads:!0,file_picker_types:"image",images_upload_base_path:"https://api.cloudinary.com/v1_1/image/upload",images_upload_credentials:!0,images_upload_handler:(e,t,n)=>{var l=new FileReader;console.log(e),console.log(l),console.log(t);let a=new FormData;a.append("file",e.blob(),e.filename()),l.onload=()=>{uploadToSupabase(a).then(e=>{e?(console.log(e),t(e),console.log(t(e))):(console.log("error"),n("Error uploading image"))}).catch(e=>{console.error(e),n("Error uploading image")})},l.readAsDataURL(e.blob())}}})})}},21056:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Login}});var l=n(85893);n(67294);var a=n(49258),r=n(48139),o=n(84053);function Login(){let e=(0,o.useSupabaseClient)();return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"container mx-auto md:w-[1170px] p-2 md:p-6 justify-center ",children:(0,l.jsxs)("div",{className:"grid grid-cols-12 gap-8",children:[(0,l.jsx)("div",{className:"col-span-12",children:(0,l.jsx)("p",{className:"text-3xl font-bold text-center",children:"Đăng nhập"})}),(0,l.jsx)("div",{className:"col-span-12 flex justify-center",children:(0,l.jsx)("div",{className:"w-[300px]",children:(0,l.jsx)(a.gx,{supabaseClient:e,providers:[],appearance:{theme:r.rD},theme:"light",localization:{variables:{sign_in:{email_label:"Email",password_label:"Mật khẩu",email_input_placeholder:"Địa chỉ email của bạn",password_input_placeholder:"Mật khẩu của bạn",button_label:"Đăng nhập",loading_button_label:"Đăng nhập..."},sign_up:{email_label:"Email",password_label:"Mật khẩu",email_input_placeholder:"Địa chỉ email của bạn",password_input_placeholder:"Mật khẩu của bạn",link_text:"Bạn chưa c\xf3 t\xe0i khoản? Đăng k\xfd",button_label:"Đăng k\xfd",loading_button_label:"Đăng k\xfd..."},magic_link:{link_text:"Đ\xe3 c\xf3 t\xe0i khoản? Đăng nhập"},forgotten_password:{email_label:"Email",password_label:"Mật khẩu",email_input_placeholder:"Địa chỉ email của bạn",button_label:"Đặt lại mật khẩu"}}}})})})]})})})}},42422:function(e,t,n){"use strict";n.d(t,{d:function(){return useImage}});var l=n(67294),a=(null==globalThis?void 0:globalThis.document)?l.useLayoutEffect:l.useEffect;function useImage(e={}){let{loading:t,src:n,srcSet:r,onLoad:o,onError:i,crossOrigin:s,sizes:c,ignoreFallback:u}=e,[d,p]=(0,l.useState)("pending");(0,l.useEffect)(()=>{p(n?"loading":"pending")},[n]);let f=(0,l.useRef)(),h=(0,l.useCallback)(()=>{if(!n)return;flush();let e=new Image;e.src=n,s&&(e.crossOrigin=s),r&&(e.srcset=r),c&&(e.sizes=c),t&&(e.loading=t),e.onload=e=>{flush(),p("loaded"),null==o||o(e)},e.onerror=e=>{flush(),p("failed"),null==i||i(e)},f.current=e},[n,s,r,c,o,i,t]),flush=()=>{f.current&&(f.current.onload=null,f.current.onerror=null,f.current=null)};return a(()=>{if(!u)return"loading"===d&&h(),()=>{flush()}},[d,h,u]),u?"loaded":d}},9200:function(e,t,n){"use strict";n.d(t,{N:function(){return $d191a55c9702f145$export$8467354a121f1b9f},U:function(){return $2baaea4c71418dea$export$294aa081a6c6f55d}});var l=n(768);function $d191a55c9702f145$export$8467354a121f1b9f(e){let{id:t,label:n,"aria-labelledby":a,"aria-label":r,labelElementType:o="label"}=e;t=(0,l.Me)(t);let i=(0,l.Me)(),s={};return n?(a=a?`${i} ${a}`:i,s={id:i,htmlFor:"label"===o?t:void 0}):a||r||console.warn("If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility"),{labelProps:s,fieldProps:(0,l.bE)({id:t,"aria-label":r,"aria-labelledby":a})}}function $2baaea4c71418dea$export$294aa081a6c6f55d(e){let{description:t,errorMessage:n,isInvalid:a,validationState:r}=e,{labelProps:o,fieldProps:i}=$d191a55c9702f145$export$8467354a121f1b9f(e),s=(0,l.mp)([!!t,!!n,a,r]),c=(0,l.mp)([!!t,!!n,a,r]);return{labelProps:o,fieldProps:i=(0,l.dG)(i,{"aria-describedby":[s,c,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),descriptionProps:{id:s},errorMessageProps:{id:c}}}},73107:function(e,t,n){"use strict";n.d(t,{BA:function(){return $a0d645289fe9b86b$export$e7f05e985daf4b5f},n_:function(){return $e72dd72e1c76a225$export$2f645645f7bca764}});var l=n(67294),a=n(96417),r=n(67911),o=n(65897);let $a02d57049d202695$export$d085fb9e920b5ca7=class $a02d57049d202695$export$d085fb9e920b5ca7{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){let t=[...this.getKeys()];return this.getItem(t[e])}getChildren(e){let t=this.keyMap.get(e);return(null==t?void 0:t.childNodes)||[]}constructor(e){let t;this.keyMap=new Map,this.iterable=e;let visit=e=>{if(this.keyMap.set(e.key,e),e.childNodes&&"section"===e.type)for(let t of e.childNodes)visit(t)};for(let t of e)visit(t);let n=0;for(let[e,l]of this.keyMap)t?(t.nextKey=e,l.prevKey=t.key):(this.firstKey=e,l.prevKey=void 0),"item"===l.type&&(l.index=n++),(t=l).nextKey=void 0;this.lastKey=null==t?void 0:t.key}};function $e72dd72e1c76a225$export$2f645645f7bca764(e){let{filter:t}=e,n=(0,a.q)(e),o=(0,l.useMemo)(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),i=(0,l.useCallback)(e=>new $a02d57049d202695$export$d085fb9e920b5ca7(t?t(e):e),[t]),s=(0,l.useMemo)(()=>({suppressTextValueWarning:e.suppressTextValueWarning}),[e.suppressTextValueWarning]),c=(0,r.Kx)(e,i,s),u=(0,l.useMemo)(()=>new a.Z(c,n),[c,n]),d=(0,l.useRef)(null);return(0,l.useEffect)(()=>{if(null!=n.focusedKey&&!c.getItem(n.focusedKey)){let e;let t=d.current.getItem(n.focusedKey),l=[...d.current.getKeys()].map(e=>{let t=d.current.getItem(e);return"item"===t.type?t:null}).filter(e=>null!==e),a=[...c.getKeys()].map(e=>{let t=c.getItem(e);return"item"===t.type?t:null}).filter(e=>null!==e),r=l.length-a.length,o=Math.min(r>1?Math.max(t.index-r+1,0):t.index,a.length-1);for(;o>=0;){if(!u.isDisabled(a[o].key)){e=a[o];break}o<a.length-1?o++:(o>t.index&&(o=t.index),o--)}n.setFocusedKey(e?e.key:null)}d.current=c},[c,u,n,n.focusedKey]),{collection:c,disabledKeys:o,selectionManager:u}}function $a0d645289fe9b86b$export$e7f05e985daf4b5f(e){var t;let[n,a]=(0,o.zk)(e.selectedKey,null!==(t=e.defaultSelectedKey)&&void 0!==t?t:null,e.onSelectionChange),r=(0,l.useMemo)(()=>null!=n?[n]:[],[n]),{collection:i,disabledKeys:s,selectionManager:c}=$e72dd72e1c76a225$export$2f645645f7bca764({...e,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:r,onSelectionChange:t=>{var l;let r=null!==(l=t.values().next().value)&&void 0!==l?l:null;r===n&&e.onSelectionChange&&e.onSelectionChange(r),a(r)}}),u=null!=n?i.getItem(n):null;return{collection:i,disabledKeys:s,selectionManager:c,selectedKey:n,setSelectedKey:a,selectedItem:u}}},13589:function(e,t,n){"use strict";n.d(t,{S:function(){return LayoutGroup}});var l=n(67294),a=n(25364);let r=(0,l.createContext)(null);var o=n(6337);let notify=e=>!e.isLayoutDirty&&e.willUpdate(!1),shouldInheritGroup=e=>!0===e,shouldInheritId=e=>shouldInheritGroup(!0===e)||"id"===e,LayoutGroup=({children:e,id:t,inherit:n=!0})=>{let i=(0,l.useContext)(a.p),s=(0,l.useContext)(r),[c,u]=(0,o.N)(),d=(0,l.useRef)(null),p=i.id||s;null===d.current&&(shouldInheritId(n)&&p&&(t=t?p+"-"+t:p),d.current={id:t,group:shouldInheritGroup(n)&&i.group||function(){let e=new Set,t=new WeakMap,dirtyAll=()=>e.forEach(notify);return{add:n=>{e.add(n),t.set(n,n.addEventListener("willUpdate",dirtyAll))},remove:n=>{e.delete(n);let l=t.get(n);l&&(l(),t.delete(n)),dirtyAll()},dirty:dirtyAll}}()});let f=(0,l.useMemo)(()=>({...d.current,forceRender:c}),[u]);return l.createElement(a.p.Provider,{value:f},e)}}},function(e){e.O(0,[146,971,864,459,961,258,24,934,606,515,5,774,888,179],function(){return e(e.s=29622)}),_N_E=e.O()}]);